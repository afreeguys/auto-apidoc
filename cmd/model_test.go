package cmd

import (
	"archive/zip"
	"auto-apidoc/api"
	"auto-apidoc/api/document"
	config2 "auto-apidoc/config"
	"auto-apidoc/utils"
	"encoding/json"
	"fmt"
	"log"
	"os"
	"testing"
)

func TestParseJson(t *testing.T) {
	dtos, err := api.ParseJson("[\n    {\n        \"baseUrl\":\"/consult/data\",\n        \"className\":\"ConsultDataController\",\n        \"description\":\"ConsultDataController\",\n        \"packageName\":\"com.test.controller\",\n        \"requestNodes\":[\n            {\n                \"deprecated\":false,\n                \"description\":\"新增咨询会话\",\n                \"header\":[\n\n                ],\n                \"method\":[\n                    \"POST\"\n                ],\n                \"methodName\":\"addSession\",\n                \"params\":[\n\n                ],\n                \"requestBodys\":[\n                    {\n                        \"className\":\"ConsultSessionVo\",\n                        \"description\":\"{\\n\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\\"messageList\\\":[{\\n\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t}],\\n\\t\\\"clueList\\\":[{\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t}]\\n}\",\n                        \"fields\":[\n                            {\n                                \"description\":\"app_id\",\n                                \"loopNode\":false,\n                                \"name\":\"app_id\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"loopNode\":false,\n                                \"name\":\"auth_nonce\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"提交时间戳\",\n                                \"loopNode\":false,\n                                \"name\":\"auth_timestamp\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"加密签名\",\n                                \"loopNode\":false,\n                                \"name\":\"auth_signature\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"客户账号id\",\n                                \"loopNode\":false,\n                                \"name\":\"accountId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"服务平台\",\n                                \"loopNode\":false,\n                                \"name\":\"servicePlatform\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"发生咨询会话的落地页url\",\n                                \"loopNode\":false,\n                                \"name\":\"originalUrl\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"会话id\",\n                                \"loopNode\":false,\n                                \"name\":\"sessionId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"访客id\",\n                                \"loopNode\":false,\n                                \"name\":\"guestId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"客服人员id\",\n                                \"loopNode\":false,\n                                \"name\":\"serviceStaffId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"开始时间\",\n                                \"loopNode\":false,\n                                \"name\":\"startTime\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"结束时间\",\n                                \"loopNode\":false,\n                                \"name\":\"endTime\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"会话截图\",\n                                \"loopNode\":false,\n                                \"name\":\"screenShotUrl\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"childNode\":{\n                                    \"className\":\"ConsultMessageVo\",\n                                    \"description\":\"[{\\n\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n}]\",\n                                    \"fields\":[\n                                        {\n                                            \"description\":\"消息id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"messageId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"会话id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sessionId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"消息类型 1-文字;2-图片\",\n                                            \"loopNode\":false,\n                                            \"name\":\"messageType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"消息来源类型 1-访客;2-客服人员\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sourceType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"消息内容\",\n                                            \"loopNode\":false,\n                                            \"name\":\"content\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"开始时间\",\n                                            \"loopNode\":false,\n                                            \"name\":\"startTime\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        }\n                                    ],\n                                    \"genericNodes\":[\n\n                                    ],\n                                    \"list\":false,\n                                    \"showFieldNotNull\":false\n                                },\n                                \"description\":\"消息列表\",\n                                \"loopNode\":false,\n                                \"name\":\"messageList\",\n                                \"notNull\":false,\n                                \"type\":\"ConsultMessageVo[]\"\n                            },\n                            {\n                                \"childNode\":{\n                                    \"className\":\"ConsultClueVo\",\n                                    \"description\":\"[{\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n}]\",\n                                    \"fields\":[\n                                        {\n                                            \"description\":\"会话id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sessionId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\",\n                                            \"loopNode\":false,\n                                            \"name\":\"clueType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"线索内容\",\n                                            \"loopNode\":false,\n                                            \"name\":\"clueContent\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        }\n                                    ],\n                                    \"genericNodes\":[\n\n                                    ],\n                                    \"list\":false,\n                                    \"showFieldNotNull\":false\n                                },\n                                \"description\":\"线索列表\",\n                                \"loopNode\":false,\n                                \"name\":\"clueList\",\n                                \"notNull\":false,\n                                \"type\":\"ConsultClueVo[]\"\n                            }\n                        ],\n                        \"genericNodes\":[\n\n                        ],\n                        \"list\":false,\n                        \"showFieldNotNull\":false\n                    }\n                ],\n                \"returnDto\":{\n                    \"className\":\"MsgVo\",\n                    \"description\":\"{\\n\\t\\\"code\\\":\\\"int\\\",\\n\\t\\\"msg\\\":\\\"string\\\",\\n\\t\\\"data\\\":{\\n\\t\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\t\\\"messageList\\\":[{\\n\\t\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t\\t}],\\n\\t\\t\\\"clueList\\\":[{\\n\\t\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t\\t}]\\n\\t}\\n}\",\n                    \"fields\":[\n                        {\n                            \"loopNode\":false,\n                            \"name\":\"code\",\n                            \"notNull\":false,\n                            \"type\":\"int\"\n                        },\n                        {\n                            \"loopNode\":false,\n                            \"name\":\"msg\",\n                            \"notNull\":false,\n                            \"type\":\"string\"\n                        },\n                        {\n                            \"childNode\":{\n                                \"className\":\"ConsultSessionVo\",\n                                \"description\":\"{\\n\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\\"messageList\\\":[{\\n\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t}],\\n\\t\\\"clueList\\\":[{\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t}]\\n}\",\n                                \"fields\":[\n                                    {\n                                        \"description\":\"app_id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"app_id\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_nonce\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"提交时间戳\",\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_timestamp\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"加密签名\",\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_signature\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"客户账号id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"accountId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"服务平台\",\n                                        \"loopNode\":false,\n                                        \"name\":\"servicePlatform\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"发生咨询会话的落地页url\",\n                                        \"loopNode\":false,\n                                        \"name\":\"originalUrl\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"会话id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"sessionId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"访客id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"guestId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"客服人员id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"serviceStaffId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"开始时间\",\n                                        \"loopNode\":false,\n                                        \"name\":\"startTime\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"结束时间\",\n                                        \"loopNode\":false,\n                                        \"name\":\"endTime\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"会话截图\",\n                                        \"loopNode\":false,\n                                        \"name\":\"screenShotUrl\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"childNode\":{\n                                            \"className\":\"ConsultMessageVo\",\n                                            \"description\":\"[{\\n\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n}]\",\n                                            \"fields\":[\n                                                {\n                                                    \"description\":\"消息id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"messageId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"会话id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sessionId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"消息类型 1-文字;2-图片\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"messageType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"消息来源类型 1-访客;2-客服人员\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sourceType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"消息内容\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"content\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"开始时间\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"startTime\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                }\n                                            ],\n                                            \"genericNodes\":[\n\n                                            ],\n                                            \"list\":false,\n                                            \"showFieldNotNull\":false\n                                        },\n                                        \"description\":\"消息列表\",\n                                        \"loopNode\":false,\n                                        \"name\":\"messageList\",\n                                        \"notNull\":false,\n                                        \"type\":\"ConsultMessageVo[]\"\n                                    },\n                                    {\n                                        \"childNode\":{\n                                            \"className\":\"ConsultClueVo\",\n                                            \"description\":\"[{\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n}]\",\n                                            \"fields\":[\n                                                {\n                                                    \"description\":\"会话id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sessionId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"clueType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"线索内容\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"clueContent\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                }\n                                            ],\n                                            \"genericNodes\":[\n\n                                            ],\n                                            \"list\":false,\n                                            \"showFieldNotNull\":false\n                                        },\n                                        \"description\":\"线索列表\",\n                                        \"loopNode\":false,\n                                        \"name\":\"clueList\",\n                                        \"notNull\":false,\n                                        \"type\":\"ConsultClueVo[]\"\n                                    }\n                                ],\n                                \"genericNodes\":[\n\n                                ],\n                                \"list\":false,\n                                \"showFieldNotNull\":false\n                            },\n                            \"loopNode\":false,\n                            \"name\":\"data\",\n                            \"notNull\":false,\n                            \"type\":\"ConsultSessionVo\"\n                        }\n                    ],\n                    \"genericNodes\":[\n                        {\n                            \"childGenericNode\":[\n\n                            ],\n                            \"classType\":\"ConsultSessionVo\",\n                            \"placeholder\":\"T\"\n                        }\n                    ],\n                    \"list\":false,\n                    \"showFieldNotNull\":false\n                },\n                \"url\":\"/consult/data/addSession\"\n            }\n        ],\n        \"srcFileName\":\"D:\\\\document\\\\workspace\\\\ads\\\\test\\\\src\\\\main\\\\java\\\\com\\\\test\\\\controller\\\\ConsultDataController.java\"\n    }\n]")
	if err != nil {
		log.Fatal(err)
	}
	bytes, _ := json.Marshal(dtos)
	fmt.Println(string(bytes))
	//text, err := dtos[0].ToMarkDownText()
	//if err != nil {
	//	log.Fatal(err)
	//}
	//fmt.Println(text)
}

func TestParseJson2(t *testing.T) {
	dtos, err := api.ParseJson("[\n    {\n        \"baseUrl\":\"/consult/data\",\n        \"className\":\"ConsultDataController\",\n        \"description\":\"ConsultDataController\",\n        \"packageName\":\"com.test.controller\",\n        \"requestNodes\":[\n            {\n                \"deprecated\":false,\n                \"description\":\"新增咨询会话\",\n                \"header\":[\n\n                ],\n                \"method\":[\n                    \"POST\"\n                ],\n                \"methodName\":\"addSession\",\n                \"params\":[\n\n                ],\n                \"requestBodys\":[\n                    {\n                        \"className\":\"ConsultSessionVo\",\n                        \"description\":\"{\\n\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\\"messageList\\\":[{\\n\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t}],\\n\\t\\\"clueList\\\":[{\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t}]\\n}\",\n                        \"fields\":[\n                            {\n                                \"description\":\"app_id\",\n                                \"loopNode\":false,\n                                \"name\":\"app_id\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"loopNode\":false,\n                                \"name\":\"auth_nonce\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"提交时间戳\",\n                                \"loopNode\":false,\n                                \"name\":\"auth_timestamp\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"加密签名\",\n                                \"loopNode\":false,\n                                \"name\":\"auth_signature\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"客户账号id\",\n                                \"loopNode\":false,\n                                \"name\":\"accountId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"服务平台\",\n                                \"loopNode\":false,\n                                \"name\":\"servicePlatform\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"发生咨询会话的落地页url\",\n                                \"loopNode\":false,\n                                \"name\":\"originalUrl\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"会话id\",\n                                \"loopNode\":false,\n                                \"name\":\"sessionId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"访客id\",\n                                \"loopNode\":false,\n                                \"name\":\"guestId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"客服人员id\",\n                                \"loopNode\":false,\n                                \"name\":\"serviceStaffId\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"开始时间\",\n                                \"loopNode\":false,\n                                \"name\":\"startTime\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"结束时间\",\n                                \"loopNode\":false,\n                                \"name\":\"endTime\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"description\":\"会话截图\",\n                                \"loopNode\":false,\n                                \"name\":\"screenShotUrl\",\n                                \"notNull\":false,\n                                \"type\":\"string\"\n                            },\n                            {\n                                \"childNode\":{\n                                    \"className\":\"ConsultMessageVo\",\n                                    \"description\":\"[{\\n\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n}]\",\n                                    \"fields\":[\n                                        {\n                                            \"description\":\"消息id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"messageId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"会话id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sessionId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"消息类型 1-文字;2-图片\",\n                                            \"loopNode\":false,\n                                            \"name\":\"messageType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"消息来源类型 1-访客;2-客服人员\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sourceType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"消息内容\",\n                                            \"loopNode\":false,\n                                            \"name\":\"content\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"开始时间\",\n                                            \"loopNode\":false,\n                                            \"name\":\"startTime\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        }\n                                    ],\n                                    \"genericNodes\":[\n\n                                    ],\n                                    \"list\":false,\n                                    \"showFieldNotNull\":false\n                                },\n                                \"description\":\"消息列表\",\n                                \"loopNode\":false,\n                                \"name\":\"messageList\",\n                                \"notNull\":false,\n                                \"type\":\"ConsultMessageVo[]\"\n                            },\n                            {\n                                \"childNode\":{\n                                    \"className\":\"ConsultClueVo\",\n                                    \"description\":\"[{\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n}]\",\n                                    \"fields\":[\n                                        {\n                                            \"description\":\"会话id\",\n                                            \"loopNode\":false,\n                                            \"name\":\"sessionId\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        },\n                                        {\n                                            \"description\":\"线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\",\n                                            \"loopNode\":false,\n                                            \"name\":\"clueType\",\n                                            \"notNull\":false,\n                                            \"type\":\"int\"\n                                        },\n                                        {\n                                            \"description\":\"线索内容\",\n                                            \"loopNode\":false,\n                                            \"name\":\"clueContent\",\n                                            \"notNull\":false,\n                                            \"type\":\"string\"\n                                        }\n                                    ],\n                                    \"genericNodes\":[\n\n                                    ],\n                                    \"list\":false,\n                                    \"showFieldNotNull\":false\n                                },\n                                \"description\":\"线索列表\",\n                                \"loopNode\":false,\n                                \"name\":\"clueList\",\n                                \"notNull\":false,\n                                \"type\":\"ConsultClueVo[]\"\n                            }\n                        ],\n                        \"genericNodes\":[\n\n                        ],\n                        \"list\":false,\n                        \"showFieldNotNull\":false\n                    }\n                ],\n                \"returnDto\":{\n                    \"className\":\"MsgVo\",\n                    \"description\":\"{\\n\\t\\\"code\\\":\\\"int\\\",\\n\\t\\\"msg\\\":\\\"string\\\",\\n\\t\\\"data\\\":{\\n\\t\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\t\\\"messageList\\\":[{\\n\\t\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t\\t}],\\n\\t\\t\\\"clueList\\\":[{\\n\\t\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t\\t}]\\n\\t}\\n}\",\n                    \"fields\":[\n                        {\n                            \"loopNode\":false,\n                            \"name\":\"code\",\n                            \"notNull\":false,\n                            \"type\":\"int\"\n                        },\n                        {\n                            \"loopNode\":false,\n                            \"name\":\"msg\",\n                            \"notNull\":false,\n                            \"type\":\"string\"\n                        },\n                        {\n                            \"childNode\":{\n                                \"className\":\"ConsultSessionVo\",\n                                \"description\":\"{\\n\\t\\\"app_id\\\":\\\"string //app_id\\\",\\n\\t\\\"auth_nonce\\\":\\\"string\\\",\\n\\t\\\"auth_timestamp\\\":\\\"string //提交时间戳\\\",\\n\\t\\\"auth_signature\\\":\\\"string //加密签名\\\",\\n\\t\\\"accountId\\\":\\\"string //客户账号id\\\",\\n\\t\\\"servicePlatform\\\":\\\"string //服务平台\\\",\\n\\t\\\"originalUrl\\\":\\\"string //发生咨询会话的落地页url\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"guestId\\\":\\\"string //访客id\\\",\\n\\t\\\"serviceStaffId\\\":\\\"string //客服人员id\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\",\\n\\t\\\"endTime\\\":\\\"string //结束时间\\\",\\n\\t\\\"screenShotUrl\\\":\\\"string //会话截图\\\",\\n\\t\\\"messageList\\\":[{\\n\\t\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n\\t}],\\n\\t\\\"clueList\\\":[{\\n\\t\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n\\t}]\\n}\",\n                                \"fields\":[\n                                    {\n                                        \"description\":\"app_id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"app_id\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_nonce\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"提交时间戳\",\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_timestamp\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"加密签名\",\n                                        \"loopNode\":false,\n                                        \"name\":\"auth_signature\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"客户账号id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"accountId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"服务平台\",\n                                        \"loopNode\":false,\n                                        \"name\":\"servicePlatform\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"发生咨询会话的落地页url\",\n                                        \"loopNode\":false,\n                                        \"name\":\"originalUrl\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"会话id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"sessionId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"访客id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"guestId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"客服人员id\",\n                                        \"loopNode\":false,\n                                        \"name\":\"serviceStaffId\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"开始时间\",\n                                        \"loopNode\":false,\n                                        \"name\":\"startTime\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"结束时间\",\n                                        \"loopNode\":false,\n                                        \"name\":\"endTime\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"description\":\"会话截图\",\n                                        \"loopNode\":false,\n                                        \"name\":\"screenShotUrl\",\n                                        \"notNull\":false,\n                                        \"type\":\"string\"\n                                    },\n                                    {\n                                        \"childNode\":{\n                                            \"className\":\"ConsultMessageVo\",\n                                            \"description\":\"[{\\n\\t\\\"messageId\\\":\\\"string //消息id\\\",\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"messageType\\\":\\\"int //消息类型 1-文字;2-图片\\\",\\n\\t\\\"sourceType\\\":\\\"int //消息来源类型 1-访客;2-客服人员\\\",\\n\\t\\\"content\\\":\\\"string //消息内容\\\",\\n\\t\\\"startTime\\\":\\\"string //开始时间\\\"\\n}]\",\n                                            \"fields\":[\n                                                {\n                                                    \"description\":\"消息id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"messageId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"会话id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sessionId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"消息类型 1-文字;2-图片\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"messageType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"消息来源类型 1-访客;2-客服人员\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sourceType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"消息内容\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"content\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"开始时间\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"startTime\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                }\n                                            ],\n                                            \"genericNodes\":[\n\n                                            ],\n                                            \"list\":false,\n                                            \"showFieldNotNull\":false\n                                        },\n                                        \"description\":\"消息列表\",\n                                        \"loopNode\":false,\n                                        \"name\":\"messageList\",\n                                        \"notNull\":false,\n                                        \"type\":\"ConsultMessageVo[]\"\n                                    },\n                                    {\n                                        \"childNode\":{\n                                            \"className\":\"ConsultClueVo\",\n                                            \"description\":\"[{\\n\\t\\\"sessionId\\\":\\\"string //会话id\\\",\\n\\t\\\"clueType\\\":\\\"int //线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\\\",\\n\\t\\\"clueContent\\\":\\\"string //线索内容\\\"\\n}]\",\n                                            \"fields\":[\n                                                {\n                                                    \"description\":\"会话id\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"sessionId\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                },\n                                                {\n                                                    \"description\":\"线索类型 1-姓名;2-手机号;3-邮箱;4-地址;\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"clueType\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"int\"\n                                                },\n                                                {\n                                                    \"description\":\"线索内容\",\n                                                    \"loopNode\":false,\n                                                    \"name\":\"clueContent\",\n                                                    \"notNull\":false,\n                                                    \"type\":\"string\"\n                                                }\n                                            ],\n                                            \"genericNodes\":[\n\n                                            ],\n                                            \"list\":false,\n                                            \"showFieldNotNull\":false\n                                        },\n                                        \"description\":\"线索列表\",\n                                        \"loopNode\":false,\n                                        \"name\":\"clueList\",\n                                        \"notNull\":false,\n                                        \"type\":\"ConsultClueVo[]\"\n                                    }\n                                ],\n                                \"genericNodes\":[\n\n                                ],\n                                \"list\":false,\n                                \"showFieldNotNull\":false\n                            },\n                            \"loopNode\":false,\n                            \"name\":\"data\",\n                            \"notNull\":false,\n                            \"type\":\"ConsultSessionVo\"\n                        }\n                    ],\n                    \"genericNodes\":[\n                        {\n                            \"childGenericNode\":[\n\n                            ],\n                            \"classType\":\"ConsultSessionVo\",\n                            \"placeholder\":\"T\"\n                        }\n                    ],\n                    \"list\":false,\n                    \"showFieldNotNull\":false\n                },\n                \"url\":\"/consult/data/addSession\"\n            }\n        ],\n        \"srcFileName\":\"D:\\\\document\\\\workspace\\\\ads\\\\test\\\\src\\\\main\\\\java\\\\com\\\\test\\\\submit\\\\controller\\\\ConsultDataController.java\"\n    }\n]")
	if err != nil {
		log.Fatal(err)
	}
	text, err := dtos[0].ToMarkDownText()
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(text)
}

func TestNewMarkDown(t *testing.T) {
	config := config2.ProjectConfig{
		Name:    "test",
		OutDir:  "D:\\api\\test\\",
		Version: 6,
	}
	file := config.GetJsonFile()
	defer file.Close()
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	for _, c := range jsonModels {
		text, err := c.ToMarkDownText()
		if err != nil {
			log.Fatal(fmt.Sprintf("%v to markdown err:%v", c.ClassName, err))
		}
		err = config.SaveFile(c.ClassName+".md", []byte(text))
		if err != nil {
			log.Fatal(fmt.Sprintf("%v saveFile err:%v", c.ClassName, err))
		}
	}
}

func TestNewMarkDown2(t *testing.T) {
	file, err := os.Open("D:\\api\\test\\V8\\controller.json")
	if err != nil {
		log.Fatal(err)
	}
	defer file.Close()
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	for _, c := range jsonModels {
		fmt.Printf("%v to markdown start\n", c.ClassName)
		_, err := c.ToMarkDownText()
		if err != nil {
			log.Fatal(fmt.Sprintf("%v to markdown err:%v", c.ClassName, err))
		}
		fmt.Printf("%v to markdown end\n", c.ClassName)
	}
}

func TestControllerMdDocOutput(t *testing.T) {
	config := config2.ProjectConfig{
		Name:       "test",
		OutDir:     "D:\\opt\\temp\\japi",
		Version:    6,
		ProjectDir: "D:\\document\\workspace\\test",
	}
	file, err := os.Open("D:\\api\\test\\V14\\controller.json")
	if err != nil {
		log.Fatal(err)
	}
	defer file.Close()
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	getControllerMdDoc(config, jsonModels, cmdOption{
		SyncRemote:    false,
		GetRequireDoc: false,
	})

}

func Test_removeNoDiffMethod(t *testing.T) {
	config := config2.ProjectConfig{
		Name:    "test",
		OutDir:  "D:\\api",
		Version: 39,
	}
	file := config.GetJsonFile()
	defer file.Close()
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	methodList := removeNoDiffMethod(config, jsonModels, cmdOption{
		OldVersion: 24,
	})
	fmt.Println(utils.ObjectToJson(methodList))

}

func TestPrdDocOutput(t *testing.T) {
	config := config2.ProjectConfig{
		Name:       "testtest",
		OutDir:     "D:\\opt\\temp\\japi",
		Version:    6,
		ProjectDir: "D:\\document\\workspace\\ads\\test",
	}
	file, err := os.Open("D:\\api\\test\\V14\\controller.json")
	if err != nil {
		log.Fatal(err)
	}
	defer file.Close()
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	getPRDMdDoc(config, jsonModels, cmdOption{
		SyncRemote:    false,
		GetRequireDoc: false,
	})

}

func Test_checkJarFile(t *testing.T) {
	file := checkJarFile()
	fmt.Println(file)
}

func Test_RunJava(t *testing.T) {
	config := config2.ProjectConfig{
		Name:       "site",
		OutDir:     "D:\\opt\\temp\\japi",
		Version:    0,
		ProjectDir: "D:\\document\\workspace\\ads\\test",
	}
	checkJarFile()
	err := RunJava(config)
	if err != nil {
		log.Fatal(err)
	}
	config.Save()

}

func Test_RunJava1(t *testing.T) {
	file, err2 := os.Open("D:\\opt\\temp\\japi\\test\\V22\\controller.json")
	if err2 != nil {
		log.Fatal(err2)
	}
	jsonModels, err := JsonToModel(file)
	if err != nil {
		log.Fatal(err)
	}
	var dto api.ControllerDto
	for _, model := range jsonModels {
		if model.ClassName == "CrawlingController" {
			dto = *model
			break
		}
	}
	text, err2 := dto.ToMarkDownText()
	//if err2 != nil {
	//	log.Fatal(err2)
	//}
	//err = os.WriteFile(dto.ClassName+".md", []byte(text), 0777)
	fmt.Println(document.MarkdownToHtml(text))

}

func Test_RunJava3(t *testing.T) {
	reader, err := zip.OpenReader("D:\\document\\workspace\\ads\\test\\target\\test.jar")
	if err != nil {
		log.Fatal(err)
	}
	file, err := reader.Open("BOOT-INF/classes/application.properties")
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(file)

}

func TestGlobalConfig_Save(t *testing.T) {
	config := config2.GlobalConfig{}
	err := config.Save()
	if err != nil {
		log.Fatal(err)
	}

}

func TestGlobalConfig(t *testing.T) {
	config := config2.HomeDir.GlobalConfig()
	fmt.Println(config)
}
